angular.module("eleicoesCatalao",["ngMaterial","ngRoute"]).controller("myCtrl",["$scope","$mdTheming",function(a,b){var c=b.setBrowserColor({theme:"myTheme",palette:"accent",hue:"200"});a.$on("$destroy",function(){c()})}]),angular.module("eleicoesCatalao").run(["$rootScope","$location","$window",function(a,b,c){a.$on("$routeChangeSuccess",function(){c.ga("send","pageview",{page:b.url()})})}]),angular.module("eleicoesCatalao").value("config",{baseUrl:"http://divulgacandcontas.tse.jus.br/divulga/rest/v1/",cidade:"93017",ano:"2016"}),angular.module("eleicoesCatalao").controller("detalheCandidatoCtrl",["$scope","$routeParams","eleicoesAPI",function(a,b,c){a.id=b.id,a.numero=b.numero,a.isVereador=!1,a.urlFoto="http://divulgacandcontas.tse.jus.br/divulga/rest/v1/candidatura/buscar/foto/2/",a.init=function(){a.loadDetalhe(a.id),a.gastos(a.id,a.numero)},a.loadDetalhe=function(b){c.getDetalhe(b).success(function(b){a.detalhe=b,11==a.detalhe.cargo.codigo&&(a.isVereador=!0)})},a.gastos=function(b,d){c.getGastos(b,d).success(function(b){a.gastos=b})},a.getTotalBens=function(){for(var b=0,c=0;c<a.detalhe.bens.length;c++){var d=a.detalhe.bens[c];b+=d.valor}return b},a.getTotalGasto=function(){for(var b=0,c=0;c<a.gastos.concentracaoDespesas.length;c++){var d=a.gastos.concentracaoDespesas[c];b+=d.valor}return b},a.getTotalForn=function(){for(var b=0,c=0;c<a.gastos.rankingFornecedores.length;c++){var d=a.gastos.rankingFornecedores[c];b+=d.valor}return b},a.init()}]),angular.module("eleicoesCatalao").factory("eleicoesAPI",["$http","config",function(a,b){var c=function(){return a.get(b.baseUrl+"candidatura/listar/"+b.ano+"/"+b.cidade+"/2/13/candidatos")},d=function(){return a.get(b.baseUrl+"candidatura/listar/"+b.ano+"/"+b.cidade+"/2/11/candidatos")},e=function(){return a.get(b.baseUrl+"candidatura/listar/"+b.ano+"/"+b.cidade+"/2/12/candidatos")},f=function(c){return a.get(b.baseUrl+"candidatura/buscar/"+b.ano+"/"+b.cidade+"/2/candidato/"+c)},g=function(c,d){return a.get(b.baseUrl+"prestador/consulta/2/"+b.ano+"/"+b.cidade+"/11/"+d+"/"+d+"/"+c)},h=function(c){return a.get(b.baseUrl+"candidatura/buscar/foto/2/"+c)};return{getVereadores:c,getPrefeitos:d,getVicePrefeitos:e,getDetalhe:f,getFoto:h,getGastos:g}}]),angular.module("eleicoesCatalao").controller("prefeitosCtrl",["$scope","eleicoesAPI",function(a,b){a.urlFoto="http://divulgacandcontas.tse.jus.br/divulga/rest/v1/candidatura/buscar/foto/2/",a.carregandoP=!0,a.carregandoV=!0,a.loadPrefeitos=function(){b.getPrefeitos().success(function(b){a.prefeitos=b.candidatos,a.carregandoP=!1})},a.loadVicePrefeitos=function(){b.getVicePrefeitos().success(function(b){a.vicePrefeitos=b.candidatos,a.carregandoV=!1})},a.loadPrefeitos(),a.loadVicePrefeitos()}]),angular.module("eleicoesCatalao").config(["$routeProvider",function(a){a.when("/vereadores",{templateUrl:"app/views/vereadores.html",controller:"vereadoresCtrl"}),a.when("/prefeitos",{templateUrl:"app/views/prefeitos.html",controller:"prefeitosCtrl"}),a.when("/candidato/:id/:numero",{templateUrl:"app/views/detalheCandidato.html",controller:"detalheCandidatoCtrl"}),a.when("/home/",{templateUrl:"app/views/home.html"}),a.otherwise({redirectTo:"/home"})}]),angular.module("eleicoesCatalao").controller("vereadoresCtrl",["$scope","eleicoesAPI",function(a,b){a.urlFoto="http://divulgacandcontas.tse.jus.br/divulga/rest/v1/candidatura/buscar/foto/2/",a.carregando=!0,a.loadVereadores=function(c){b.getVereadores().success(function(b){a.vereadores=b.candidatos,a.carregando=!1})},a.loadVereadores()}]);